<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Hugo 0.92.2" />


<title>Unlock gnome-keyring on Login with SLiM and PAM - ./gibson.sh --blog</title>
<meta property="og:title" content="Unlock gnome-keyring on Login with SLiM and PAM - ./gibson.sh --blog">
<meta property="og:type" content="summary" />
<meta property="og:description" content="My favorite desktop environment is XFCE, because it&rsquo;s fast, doesn&rsquo;t need much memory¹ and still is convenient (automounting of CDs and memory sticks, easy unmounting by clicking, a real desktop, etc).
I also use SLiM as a display manager because it is slim and looks much better than xdm.
On my Laptop I also use GNOME&rsquo;s NetworkManager because I haven&rsquo;t yet found a better and less bloated alternative for handling wireless networks and VPNs.
NetworkManager is able to store your passwords (WPA-keys etc) in the GNOME Keyring so you don&rsquo;t need to enter them each time your laptop connects to a wireless network. But you still have to enter the password to unlock the keyring.. unless you let PAM handle that on login." />

<meta name="twitter:creator" content="@Doomed_Daniel" />
<meta property="og:image" content="http://blog.gibson.sh/images/logo-160.png" />

<link rel="me" href="https://mastodon.gamedev.place/@Doomed_Daniel" />



<link rel="stylesheet" href="../../../../css/main.css" media="all" />
<link rel="stylesheet" href="../../../../css/fonts.css" />


  </head>
  <body>
    <div class="wrapper">
      <header class="header">
        <nav class="nav">
  <a href="../../../../" class="nav-logo" title="Home">
    <img src="../../../../images/logo.png"
        alt="Home" >
  </a>

  <ul class="nav-links">
    <li><b><a href="../../../../">Home</a></b></li>
    
    <li><a href="../../../../about/">About</a></li>
    
    <li><a href="https://github.com/DanielGibson/">Github</a></li>
    
    <li><a href="https://mastodon.gamedev.place/@Doomed_Daniel">Mastodon</a></li>
    
  </ul>
</nav>

      </header>


<main class="content" role="main">

  <article class="article">
    

    <h1 class="article-title">Unlock gnome-keyring on Login with SLiM and PAM</h1>

    
    <span class="article-date">May 5, 2010</span>
    

    <div class="article-content">
      <p>My favorite desktop environment is <!-- raw HTML omitted -->XFCE<!-- raw HTML omitted -->, because it&rsquo;s fast, doesn&rsquo;t need much memory¹ and still is convenient (automounting of CDs and memory sticks, easy unmounting by clicking, a real desktop, etc).
I also use <a href="https://github.com/iwamatsu/slim">SLiM</a> as a display manager because it is slim and looks much better than xdm.</p>
<p>On my Laptop I also use GNOME&rsquo;s <!-- raw HTML omitted -->NetworkManager<!-- raw HTML omitted --> because I haven&rsquo;t yet found a better and less bloated alternative for handling wireless networks and VPNs.
NetworkManager is able to store your passwords (WPA-keys etc) in the <!-- raw HTML omitted -->GNOME Keyring<!-- raw HTML omitted --> so you don&rsquo;t need to enter them each time your laptop connects to a wireless network. But you still have to enter the password to unlock the keyring.. <!-- raw HTML omitted --><!-- raw HTML omitted -->unless<!-- raw HTML omitted --><!-- raw HTML omitted --> you let <!-- raw HTML omitted -->PAM<!-- raw HTML omitted --> handle that on login.</p>
<p>I&rsquo;ll describe how to make PAM unlock your GNOME-Keyring, when you log in with SLiM, so applications like the NetworkManager can access the keyring. I&rsquo;ll focus on how to do that with <!-- raw HTML omitted -->Debian<!-- raw HTML omitted --> &ldquo;squeeze&rdquo; (the current testing), but it should be directly applicable for Ubuntu (at least &ldquo;Lucid&rdquo;, for older versions you&rsquo;ll have to build your own slim package with PAM support - or maybe use the one from debian) and quite similar in any other Linux distribution.</p>
<h2 id="what-should-be-installed">What should be installed?</h2>
<!-- raw HTML omitted -->
<h2 id="configuration">Configuration</h2>
<p>You need to edit <!-- raw HTML omitted -->/etc/pam.d/slim<!-- raw HTML omitted -->. If that file doesn&rsquo;t exist (I hope it will be added to debians SLiM package soon), just paste it from <!-- raw HTML omitted -->the debian bugreport #476248<!-- raw HTML omitted -->.
However, to unlock the keyring you need to add the following two lines to the end of the file:</p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p>That should be all. Just log out, log back in and the keyring should be unlocked, so applications can access it without entering further passwords.
If it does not work and you&rsquo;ve used GNOME keyring before, you may have to delete <!-- raw HTML omitted -->~/.gnome2/keyrings/<!-- raw HTML omitted --> to make it work correctly.</p>
    </div>
  </article>

  

  <hr>

  <div id="gh-comments">
    <h4>COMMENTS</h4>
    <div id="gh-comments-list"></div>
    <a href="javascript:void(0)" id="gh-load-comments" class="btn" style="display:none">Load more comments</a>
    <noscript>
      <a href="https://github.com/DanielGibson/DanielGibson.github.io/issues/4"
         target='_blank' class='btn'>(Javascript is disabled)<br>View Comments on Github</a>
    </noscript>
  </div>

  <script type="text/javascript" src="../../../../js/github-comments.js"></script>
  <script type="text/javascript">
    DoGithubComments( 4 );
  </script>
  

</main>

      <footer class="footer">
        <ul class="footer-links">
          
          <li>
            <a href="https://gohugo.io/" class="footer-links-kudos">Made with <img src="../../../../images/hugo-logo.png" width="22" height="22" alt="hugo"></a>
          </li>
        </ul>
      </footer>

    </div>

    
  
  
  
  <script>
  

  for(h=1; h<=6; ++h) 
  {
    var hs = document.getElementsByTagName('h'+h);
    for(i=0; i<hs.length; ++i)
    {
      
      if(hs[i].id)
      {
        var l = document.createElement("a");
        l.href = "#" + hs[i].id;
        l.innerHTML = "# ";
        l.className = "headinglink";
        hs[i].insertBefore(l, hs[i].firstChild);
      }
    }
  }
  </script>
  
  </body>
  
</html>

